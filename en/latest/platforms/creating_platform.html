

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Custom Development Platforms &mdash; PlatformIO latest documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://docs.platformio.org/platforms/creating_platform.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Custom Embedded Boards" href="creating_board.html" />
    <link rel="prev" title="Custom Platform &amp; Board" href="custom_platform_and_board.html" />
 
<link rel="stylesheet" href="../_static/css/extra.css" type="text/css" />
<script src="../_static/js/bootstrap.min.js"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7398081349378542" crossorigin="anonymous"></script>
<!-- <script src="http://dl.platformio.org/misc/abplus.js"></script> -->

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PlatformIO
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../what-is-platformio.html">What is PlatformIO?</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/ide/pioide.html">PlatformIO IDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">PlatformIO Core (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../home/index.html">PlatformIO Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials and Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projectconf/index.html">platformio.ini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envvars.html">Environment variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projectconf/advanced_scripting.html">Advanced Scripting</a></li>
</ul>
<p class="caption"><span class="caption-text">Instruments</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../librarymanager/index.html">Library Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frameworks/index.html">Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boards/index.html">Boards</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="custom_platform_and_board.html">Custom Platform &amp; Board</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Custom Development Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packages">Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manifest-file-platform-json">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-script-main-py">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publishing">Publishing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="creating_board.html">Custom Embedded Boards</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Professional</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plus/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/unit-testing.html">Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/pio-check.html">Static Code Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/pio-remote.html">Remote Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/pio-account.html">PlatformIO Account</a></li>
</ul>
<p class="caption"><span class="caption-text">Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/ide/index.html">Cloud &amp; Desktop IDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/ci/index.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/compile_commands.html">Compilation database <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../articles.html">Articles about us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/history.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/migration.html">Migrating from 4.x to 5.0</a></li>
</ul>

            
          
<p style="margin-top: 15px;">
  <!-- Docs: Side Navigation -->
  <ins class="adsbygoogle ads"
       style="display:block;background-color: transparent;"
       data-ad-client="ca-pub-7398081349378542"
       data-ad-slot="2509136660"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</p>

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PlatformIO</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="top-text-banner">
  <i class="fa fa-lightbulb-o fa-lg" aria-hidden="true"></i>&nbsp;
  <span class="top-text-banner-content">
    <script type='text/javascript'><!--//<![CDATA[
     var m3_u = (location.protocol=='https:'?'https://ad.platformio.org/delivery/revajs.dll':'http://ad.platformio.org/delivery/revajs.dll');
     var m3_r = Math.floor(Math.random()*99999999999);
     if (!document.MAX_used) document.MAX_used = ',';
     document.write ("<scr"+"ipt type='text/javascript' src='"+m3_u);
     document.write ("?zoneid=1");
     document.write ('&amp;cb=' + m3_r);
     if (document.MAX_used != ',') document.write ("&amp;exclude=" + document.MAX_used);
     document.write (document.charset ? '&amp;charset='+document.charset : (document.characterSet ? '&amp;charset='+document.characterSet : ''));
     document.write ("&amp;loc=" + escape(window.location));
     if (document.referrer) document.write ("&amp;referer=" + escape(document.referrer));
     if (document.context) document.write ("&context=" + escape(document.context));
     document.write ("'><\/scr"+"ipt>");
  //]]>--></script>
    </span>
    <hr />
</div>


        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="custom_platform_and_board.html">Custom Platform &amp; Board</a> &raquo;</li>
        
      <li>Custom Development Platforms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/platformio/platformio-docs/blob/develop/platforms/creating_platform.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-development-platforms">
<span id="platform-creating"></span><h1><a class="toc-backref" href="#id1">Custom Development Platforms</a><a class="headerlink" href="#custom-development-platforms" title="Permalink to this headline">¶</a></h1>
<p><em>PlatformIO</em> can build the same binary code under
different host systems via the single command <a class="reference internal" href="../core/userguide/cmd_run.html#cmd-run"><span class="std std-ref">pio run</span></a>
without any dependent software or requirements.</p>
<p>A <em>manifest</em> describes how to produce binaries for a particular
platform under one or multiple host systems by a set of build scripts,
toolchains, the settings for the most popular embedded boards, etc.</p>
<p>This guide explains how to write manifests, to support building for
new development platforms.</p>
<p><strong>Step-by-Step Manual</strong></p>
<ol class="arabic simple">
<li><p>Choose <a class="reference internal" href="#platform-creating-packages"><span class="std std-ref">Packages</span></a> for platform</p></li>
<li><p>Create <a class="reference internal" href="#platform-creating-manifest-file"><span class="std std-ref">Manifest File platform.json</span></a></p></li>
<li><p>Create <a class="reference internal" href="#platform-creating-build-script"><span class="std std-ref">Build Script main.py</span></a></p></li>
<li><p>Finish with the <a class="reference internal" href="#platform-creating-installation"><span class="std std-ref">Installation</span></a>.</p></li>
</ol>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#custom-development-platforms" id="id1">Custom Development Platforms</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id2">Examples</a></p></li>
<li><p><a class="reference internal" href="#packages" id="id3">Packages</a></p></li>
<li><p><a class="reference internal" href="#manifest-file-platform-json" id="id4">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a></p></li>
<li><p><a class="reference internal" href="#build-script-main-py" id="id5">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a></p></li>
<li><p><a class="reference internal" href="#installation" id="id6">Installation</a></p></li>
<li><p><a class="reference internal" href="#publishing" id="id7">Publishing</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id2">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Please take a look at the source code of existing
<a class="reference external" href="https://github.com/topics/platformio-platform">PlatformIO Development Platforms</a>.</p>
</div>
<div class="section" id="packages">
<span id="platform-creating-packages"></span><h2><a class="toc-backref" href="#id3">Packages</a><a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h2>
<p>Some tools are the same when compiling for several platforms, for
example a common compiler. A <em>package</em> is some tool or framework that
can be used when compiling for one or multiple platforms. Even if
multiple platforms use the same package, the package only needs to be
downloaded once. Since each package is pre-built for the different
host systems (Windows, Mac, Linux), developers can get started without
first compiling the tools.</p>
<p>PlatformIO has a registry with pre-built packages for the most popular
operating systems and you can use them in your platform
manifest. Custom packages can be uploaded to the PlatformIO Registry using <a class="reference internal" href="../core/userguide/package/cmd_publish.html#cmd-package-publish"><span class="std std-ref">pio package publish</span></a> command.</p>
</div>
<div class="section" id="manifest-file-platform-json">
<span id="platform-creating-manifest-file"></span><h2><a class="toc-backref" href="#id4">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a><a class="headerlink" href="#manifest-file-platform-json" title="Permalink to this headline">¶</a></h2>
<p>Each platform definition includes a <em>manifest file</em> with a particular
format that is parsed by PlatformIO when handling projects using that
platform.</p>
<p>Here is an example <code class="docutils literal notranslate"><span class="pre">platform.json</span></code> for the fictitious platform “myplatform”:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myplatform&quot;</span><span class="p">,</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;My Platform&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My custom development platform&quot;</span><span class="p">,</span>
  <span class="nt">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mycompany.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;Apache-2.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;keywords&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;keyword_1&quot;</span><span class="p">,</span> <span class="s2">&quot;keyword_N&quot;</span><span class="p">],</span>
  <span class="nt">&quot;repository&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;git&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/platformio/platform-myplatform.git&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;frameworks&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;%FRAMEWORK_NAME_1%&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;framework-%FRAMEWORK_NAME_1%&quot;</span><span class="p">,</span>
      <span class="nt">&quot;script&quot;</span><span class="p">:</span> <span class="s2">&quot;builder/frameworks/%FRAMEWORK_NAME_1%.py&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;%FRAMEWORK_NAME_N%&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;framework-%FRAMEWORK_NAME_N%&quot;</span><span class="p">,</span>
      <span class="nt">&quot;script&quot;</span><span class="p">:</span> <span class="s2">&quot;builder/frameworks/%FRAMEWORK_NAME_N%.py&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;packages&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;toolchain-gccarmnoneeabi&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;toolchain&quot;</span><span class="p">,</span>
      <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="s2">&quot;platformio&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=1.40803.0,&lt;1.40805.0&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;framework-%FRAMEWORK_NAME_1%&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;framework&quot;</span><span class="p">,</span>
      <span class="nt">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;~1.10607.0&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;framework-%FRAMEWORK_NAME_N%&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;framework&quot;</span><span class="p">,</span>
      <span class="nt">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;~1.117.0&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;tool-direct-vcs-url&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;uploader&quot;</span><span class="p">,</span>
      <span class="nt">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/user/repo.git&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;pythonPackages&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;pypi-pkg-1&quot;</span><span class="p">:</span> <span class="s2">&quot;1.2.3&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pypi-pkg-2&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=2.3, &lt;3&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="build-script-main-py">
<span id="platform-creating-build-script"></span><h2><a class="toc-backref" href="#id5">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a><a class="headerlink" href="#build-script-main-py" title="Permalink to this headline">¶</a></h2>
<p>Each platform definition must include a <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<p>PlatformIO’s build script is based on a next-generation build tool
named <a class="reference external" href="http://www.scons.org">SCons</a>. PlatformIO has its own built-in
firmware builder <code class="docutils literal notranslate"><span class="pre">env.BuildProgram</span></code> with deep library search. Please
see the following template as start for developing your own <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build script for test.py</span>
<span class="sd">    test-builder.py</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="kn">from</span> <span class="nn">SCons.Script</span> <span class="kn">import</span> <span class="n">AlwaysBuild</span><span class="p">,</span> <span class="n">Builder</span><span class="p">,</span> <span class="n">Default</span><span class="p">,</span> <span class="n">DefaultEnvironment</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">DefaultEnvironment</span><span class="p">()</span>

<span class="c1"># A full list with the available variables</span>
<span class="c1"># http://www.scons.org/doc/production/HTML/scons-user.html#app-variables</span>
<span class="n">env</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span>
    <span class="n">AR</span><span class="o">=</span><span class="s2">&quot;ar&quot;</span><span class="p">,</span>
    <span class="n">AS</span><span class="o">=</span><span class="s2">&quot;gcc&quot;</span><span class="p">,</span>
    <span class="n">CC</span><span class="o">=</span><span class="s2">&quot;gcc&quot;</span><span class="p">,</span>
    <span class="n">CXX</span><span class="o">=</span><span class="s2">&quot;g++&quot;</span><span class="p">,</span>
    <span class="n">OBJCOPY</span><span class="o">=</span><span class="s2">&quot;objcopy&quot;</span><span class="p">,</span>
    <span class="n">RANLIB</span><span class="o">=</span><span class="s2">&quot;ranlib&quot;</span><span class="p">,</span>

    <span class="n">UPLOADER</span><span class="o">=</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;$PIOPACKAGES_DIR&quot;</span><span class="p">,</span> <span class="s2">&quot;tool-bar&quot;</span><span class="p">,</span> <span class="s2">&quot;uploader&quot;</span><span class="p">),</span>
    <span class="n">UPLOADCMD</span><span class="o">=</span><span class="s2">&quot;$UPLOADER $SOURCES&quot;</span>
<span class="p">)</span>

<span class="n">env</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span>
    <span class="n">ARFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">],</span>

    <span class="n">ASFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">CCFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">CXXFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">LINKFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>

    <span class="n">CPPDEFINES</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DEFINE_1&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE=2&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE_N&quot;</span><span class="p">],</span>

    <span class="n">LIBS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;additional&quot;</span><span class="p">,</span> <span class="s2">&quot;libs&quot;</span><span class="p">,</span> <span class="s2">&quot;here&quot;</span><span class="p">],</span>

    <span class="n">BUILDERS</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">ElfToBin</span><span class="o">=</span><span class="n">Builder</span><span class="p">(</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
                <span class="s2">&quot;$OBJCOPY&quot;</span><span class="p">,</span>
                <span class="s2">&quot;-O&quot;</span><span class="p">,</span>
                <span class="s2">&quot;binary&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$SOURCES&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$TARGET&quot;</span><span class="p">]),</span>
            <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.bin&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># The source code of &quot;platformio-build-tool&quot; is here</span>
<span class="c1"># https://github.com/platformio/platformio-core/blob/develop/platformio/builder/tools/platformio.py</span>

<span class="c1">#</span>
<span class="c1"># Target: Build executable and linkable firmware</span>
<span class="c1">#</span>
<span class="n">target_elf</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">BuildProgram</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># Target: Build the .bin file</span>
<span class="c1">#</span>
<span class="n">target_bin</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">ElfToBin</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;$BUILD_DIR&quot;</span><span class="p">,</span> <span class="s2">&quot;firmware&quot;</span><span class="p">),</span> <span class="n">target_elf</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># Target: Upload firmware</span>
<span class="c1">#</span>
<span class="n">upload</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">Alias</span><span class="p">([</span><span class="s2">&quot;upload&quot;</span><span class="p">],</span> <span class="n">target_bin</span><span class="p">,</span> <span class="s2">&quot;$UPLOADCMD&quot;</span><span class="p">)</span>
<span class="n">AlwaysBuild</span><span class="p">(</span><span class="n">upload</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># Target: Define targets</span>
<span class="c1">#</span>
<span class="n">Default</span><span class="p">(</span><span class="n">target_bin</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="installation">
<span id="platform-creating-installation"></span><h2><a class="toc-backref" href="#id6">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Using the “myplatform” platform example above:</p>
<ol class="arabic simple">
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">platforms</span></code> directory in <a class="reference internal" href="../projectconf/section_platformio.html#projectconf-pio-core-dir"><span class="std std-ref">core_dir</span></a> if it
doesn’t exist.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> directory in <code class="docutils literal notranslate"><span class="pre">platforms</span></code></p></li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">platform.json</span></code> and <code class="docutils literal notranslate"><span class="pre">builder/main.py</span></code> files to the <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> directory.</p></li>
<li><p>Search the available platforms via the <a class="reference internal" href="../core/userguide/platforms/cmd_search.html#cmd-platform-search"><span class="std std-ref">pio platform search</span></a> command. You
should see the new <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> platform.</p></li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> platform via the <a class="reference internal" href="../core/userguide/platforms/cmd_install.html#cmd-platform-install"><span class="std std-ref">pio platform install</span></a> command.</p></li>
</ol>
<p>Now, you can use <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> as value for the <a class="reference internal" href="../projectconf/section_env_platform.html#projectconf-env-platform"><span class="std std-ref">platform</span></a>
option in <a class="reference internal" href="../projectconf/index.html#projectconf"><span class="std std-ref">“platformio.ini” (Project Configuration File)</span></a>.</p>
</div>
<div class="section" id="publishing">
<h2><a class="toc-backref" href="#id7">Publishing</a><a class="headerlink" href="#publishing" title="Permalink to this headline">¶</a></h2>
<p>You can publish a development platform to the <strong>PlatformIO Trusted Registry</strong>
using <a class="reference internal" href="../core/userguide/package/cmd_publish.html#cmd-package-publish"><span class="std std-ref">pio package publish</span></a> command. Other developers will be able to install it.
Every time when you modify a source code of a development platform you will need to
increment the “version” field in “platform.json” manifest and re-publish again.</p>
<p>If the published development platform has an issue and you would like to remove it from
the PlatformIO Trusted Registry, please use <a class="reference internal" href="../core/userguide/package/cmd_unpublish.html#cmd-package-unpublish"><span class="std std-ref">pio package unpublish</span></a> command.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="creating_board.html" class="btn btn-neutral float-right" title="Custom Embedded Boards" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="custom_platform_and_board.html" class="btn btn-neutral float-left" title="Custom Platform &amp; Board" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">

    <p>
        &#169; Copyright 2014-present, PlatformIO.

    </p>
<p>
  <!-- Docs: Page bottom -->
  <ins class="adsbygoogle ads"
     style="display:block;background-color: transparent;"
     data-ad-client="ca-pub-7398081349378542"
     data-ad-slot="1206527817"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</p>

  </div>
 
<script>
  var navBarHTML = '\
<div>\
  <div class="container container-fluid">\
    <div class="navbar-header">\
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navBarCollapse" aria-expanded="false">\
        <span class="sr-only">Toggle navigation</span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
      </button>\
      <a class="navbar-brand" href="https://platformio.org" title="PlatformIO"></a>\
    </div>\
    <nav role="navigation" class="collapse navbar-collapse" id="navBarCollapse">\
      <div>\
        <ul class="nav navbar-nav">\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://platformio.org/platformio-ide" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-rocket fa-lg"></i>Get Started<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://docs.platformio.org/page/what-is-platformio.html"><i class="fa fa-heart"></i>What is PlatformIO?</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://platformio.org/platformio-ide"><i class="fa fa-cube"></i>PlatformIO IDE</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/cli"><i class="fa fa-cogs"></i>PlatformIO Core (CLI)</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/librarymanager/index.html"><i class="fa fa-code"></i>Library Management</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/tutorials/index.html" target="_blank"><i class="fa fa-graduation-cap"></i>Tutorials</a></li>\
              <li role="menuitem"><a href="https://github.com/platformio/platformio-examples" target="_blank"><i class="fa fa-graduation-cap"></i>Project Examples</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://docs.platformio.org/page/plus/pio-remote.html" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-lightbulb-o fa-lg"></i>\
              Solutions<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://platformio.org/platformio-ide"><i class="fa fa-cube"></i>PlatformIO IDE</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/cli"><i class="fa fa-cogs"></i>PlatformIO Core (CLI)</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/plus/debugging.html"><i class="fa fa-bug"></i>Debugging</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/plus/unit-testing.html"><i class="fa fa-puzzle-piece"></i>Unit Testing</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/plus/pio-check.html"><i class="fa fa-check-circle-o"></i>Static Code Analysis</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/plus/pio-remote.html"><i class="fa fa-globe"></i>Remote Development</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/librarymanager/index.html"><i class="fa fa-code"></i>Library Management</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://platformio.org/install/integration"><i class="fa fa-cube"></i>Desktop IDEs Integration</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/integration"><i class="fa fa-cloud"></i>Cloud IDEs Integration</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/page/ci/index.html"><i class="fa fa-refresh"></i>Continuous Integration</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://platformio.org/lib" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-code fa-lg"></i>Registry<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://platformio.org/lib"><i class="fa fa-code"></i>Libraries</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://platformio.org/platforms"><i class="fa fa-laptop"></i>Platforms</a></li>\
              <li role="menuitem"><a href="https://platformio.org/frameworks"><i class="fa fa-cog"></i>Frameworks</a></li>\
              <li role="menuitem"><a href="https://platformio.org/boards"><i class="fa fa-microchip"></i>Boards</a></li>\
            </ul>\
          </li>\
        </ul>\
        <ul class="nav navbar-nav navbar-right">\
          <li class="active"><a href="https://docs.platformio.org"><i class="fa fa-book fa-lg"></i>Docs</a></li>\
          <li><a href="https://community.platformio.org/"><i class="fa fa-comments-o fa-lg"></i>Community</a></li>\
          <li><a href="https://platformio.org/support"><i class="fa fa-question-circle fa-lg"></i>Support</a></li>\
          <li class="nav-pio-tech"><a href="https://piolabs.com/"><i class="fa fa-heart-o fa-lg"></i>TECHNOLOGY</a></li>\
        </ul>\
      </div>\
    </nav>\
  </div>\
</div>';

  (function() {
    if (window.location.href.indexOf('http://') === 0) {
      location.href = 'https:' + window.location.href.substring(5);
    }

    var topBanner = $('.top-banner');
    var navBar = document.createElement('header');
    navBar.className = 'navbar navbar-inverse';
    navBar.innerHTML = navBarHTML;
    if (topBanner.length) {
      $(navBar).insertAfter(topBanner)
    } else {
      document.body.insertBefore(navBar, document.body.firstChild);
    }

    if ($(window).width() <= 768) {
      return;
    }

    var topOffset = 50;
    if (topBanner.length) {
      topOffset += $('.navbar').offset().top;
    }
    $('.wy-nav-side').css('top', topOffset + 'px');
    $(window).scroll(function() {
      $('.wy-nav-side').css('top', $(window).scrollTop() > topOffset ? 0 : topOffset + 'px');
    });
  })();
</script>


</footer>
        </div>

      </div>

    </section>

  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation</span>
    v5.2.0a7 (latest)
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="/en/">latest</a></dd>
      
        <dd><a href="/en/stable/">stable</a></dd>
      
    </dl>
    <dl>
      <dt>On Github</dt>
        <dd><a href="https://github.com/platformio/platformio-docs/blob/develop/platforms/creating_platform.rst"> View</a></dd>
        <dd><a href="https://github.com/platformio/platformio-docs/edit/develop/platforms/creating_platform.rst"> Edit</a></dd>
    </dl>
    <dl>
      <dt>Search</dt>
        <dd>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1768265-7', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>