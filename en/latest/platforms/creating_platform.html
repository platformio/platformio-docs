

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LQZCKGZE94"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-LQZCKGZE94');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Custom Development Platforms &mdash; PlatformIO latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=3ba690ee" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.platformio.org/platforms/creating_platform.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5c1da061"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Custom Embedded Boards" href="creating_board.html" />
    <link rel="prev" title="Custom Platform &amp; Board" href="custom_platform_and_board.html" />
 
<link rel="stylesheet" href="../_static/css/extra.css" type="text/css" />
<script src="../_static/js/bootstrap.min.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">

              <ul>
<li class="toctree-l1"><a class="reference internal" href="../what-is-platformio.html">What is PlatformIO?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/ide/pioide.html">PlatformIO IDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">PlatformIO Core (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../home/index.html">PlatformIO Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/pio-account.html">PlatformIO Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials and Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projectconf/index.html">platformio.ini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projectconf/build_configurations.html">Build Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envvars.html">Environment Variables</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Instruments</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../librarymanager/index.html">Library Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frameworks/index.html">Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boards/index.html">Boards</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="custom_platform_and_board.html">Custom Platform &amp; Board</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Custom Development Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packages">Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manifest-file-platform-json">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-script-main-py">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publishing">Publishing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="creating_board.html">Custom Embedded Boards</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting/index.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/unit-testing/index.html">Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/static-code-analysis/index.html">Static Code Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plus/pio-remote.html">Remote Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/ide/index.html">Cloud &amp; Desktop IDEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/ci/index.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/compile_commands.html">Compilation database <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/history.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/migration.html">Migrating from 5.x to 6.0</a></li>
</ul>

<ins data-rvad-zoneid="7" data-rvad-id="f837d8c96893e793fdbb230cffb628fc"></ins>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PlatformIO</a>
      </nav>

      <div class="wy-nav-content">
<ins data-rvad-zoneid="1" data-rvad-id="f837d8c96893e793fdbb230cffb628fc"></ins>

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="custom_platform_and_board.html">Custom Platform &amp; Board</a></li>
      <li class="breadcrumb-item active">Custom Development Platforms</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/platformio/platformio-docs/blob/develop/platforms/creating_platform.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="custom-development-platforms">
<span id="platform-creating"></span><h1><a class="toc-backref" href="#id1" role="doc-backlink">Custom Development Platforms</a><a class="headerlink" href="#custom-development-platforms" title="Link to this heading">ÔÉÅ</a></h1>
<p><em>PlatformIO</em> can build the same binary code under
different host systems via the single command <a class="reference internal" href="../core/userguide/cmd_run.html#cmd-run"><span class="std std-ref">pio run</span></a>
without any dependent software or requirements.</p>
<p>A <em>manifest</em> describes how to produce binaries for a particular
platform under one or multiple host systems by a set of build scripts,
toolchains, the settings for the most popular embedded boards, etc.</p>
<p>This guide explains how to write manifests, to support building for
new development platforms.</p>
<p><strong>Step-by-Step Manual</strong></p>
<ol class="arabic simple">
<li><p>Choose <a class="reference internal" href="#platform-creating-packages"><span class="std std-ref">Packages</span></a> for platform</p></li>
<li><p>Create <a class="reference internal" href="#platform-creating-manifest-file"><span class="std std-ref">Manifest File platform.json</span></a></p></li>
<li><p>Create <a class="reference internal" href="#platform-creating-build-script"><span class="std std-ref">Build Script main.py</span></a></p></li>
<li><p>Finish with the <a class="reference internal" href="#platform-creating-installation"><span class="std std-ref">Installation</span></a>.</p></li>
</ol>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#custom-development-platforms" id="id1">Custom Development Platforms</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id2">Examples</a></p></li>
<li><p><a class="reference internal" href="#packages" id="id3">Packages</a></p></li>
<li><p><a class="reference internal" href="#manifest-file-platform-json" id="id4">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a></p></li>
<li><p><a class="reference internal" href="#build-script-main-py" id="id5">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a></p></li>
<li><p><a class="reference internal" href="#installation" id="id6">Installation</a></p></li>
<li><p><a class="reference internal" href="#publishing" id="id7">Publishing</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="examples">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading">ÔÉÅ</a></h2>
<p>Please take a look at the source code of existing
<a class="reference external" href="https://github.com/topics/platformio-platform">PlatformIO Development Platforms</a>.</p>
</section>
<section id="packages">
<span id="platform-creating-packages"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Packages</a><a class="headerlink" href="#packages" title="Link to this heading">ÔÉÅ</a></h2>
<p>Some tools are the same when compiling for several platforms, for
example a common compiler. A <em>package</em> is some tool or framework that
can be used when compiling for one or multiple platforms. Even if
multiple platforms use the same package, the package only needs to be
downloaded once. Since each package is pre-built for the different
host systems (Windows, Mac, Linux), developers can get started without
first compiling the tools.</p>
<p>PlatformIO has a registry with pre-built packages for the most popular
operating systems and you can use them in your platform
manifest. Custom packages can be uploaded to the PlatformIO Registry using <a class="reference internal" href="../core/userguide/pkg/cmd_publish.html#cmd-pkg-publish"><span class="std std-ref">pio pkg publish</span></a> command.</p>
</section>
<section id="manifest-file-platform-json">
<span id="platform-creating-manifest-file"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Manifest File <code class="docutils literal notranslate"><span class="pre">platform.json</span></code></a><a class="headerlink" href="#manifest-file-platform-json" title="Link to this heading">ÔÉÅ</a></h2>
<p>Each platform definition includes a <em>manifest file</em> with a particular
format that is parsed by PlatformIO when handling projects using that
platform.</p>
<p>Here is an example <code class="docutils literal notranslate"><span class="pre">platform.json</span></code> for the fictitious platform ‚Äúmyplatform‚Äù:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;myplatform&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Platform&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My custom development platform&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;homepage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://mycompany.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Apache-2.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;keyword_1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;keyword_N&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;git&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.com/platformio/platform-myplatform.git&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;frameworks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;%FRAMEWORK_NAME_1%&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;package&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;framework-%FRAMEWORK_NAME_1%&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;builder/frameworks/%FRAMEWORK_NAME_1%.py&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;%FRAMEWORK_NAME_N%&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;package&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;framework-%FRAMEWORK_NAME_N%&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;builder/frameworks/%FRAMEWORK_NAME_N%.py&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;packages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;toolchain-gccarmnoneeabi&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;toolchain&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;platformio&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&gt;=1.40803.0,&lt;1.40805.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;framework-%FRAMEWORK_NAME_1%&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;framework&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;optional&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~1.10607.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;framework-%FRAMEWORK_NAME_N%&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;framework&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;optional&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~1.117.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;tool-direct-vcs-url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uploader&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;optional&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.com/user/repo.git&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="build-script-main-py">
<span id="platform-creating-build-script"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Build Script <code class="docutils literal notranslate"><span class="pre">main.py</span></code></a><a class="headerlink" href="#build-script-main-py" title="Link to this heading">ÔÉÅ</a></h2>
<p>Each platform definition must include a <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<p>PlatformIO‚Äôs build script is based on a next-generation build tool
named <a class="reference external" href="http://www.scons.org">SCons</a>. PlatformIO has its own built-in
firmware builder <code class="docutils literal notranslate"><span class="pre">env.BuildProgram</span></code> with deep library search. Please
see the following template as start for developing your own <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build script for test.py</span>
<span class="sd">    test-builder.py</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">os.path</span><span class="w"> </span><span class="kn">import</span> <span class="n">join</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">SCons.Script</span><span class="w"> </span><span class="kn">import</span> <span class="n">AlwaysBuild</span><span class="p">,</span> <span class="n">Builder</span><span class="p">,</span> <span class="n">Default</span><span class="p">,</span> <span class="n">DefaultEnvironment</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">DefaultEnvironment</span><span class="p">()</span>

<span class="c1"># A full list with the available variables</span>
<span class="c1"># http://www.scons.org/doc/production/HTML/scons-user.html#app-variables</span>
<span class="n">env</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span>
    <span class="n">AR</span><span class="o">=</span><span class="s2">&quot;ar&quot;</span><span class="p">,</span>
    <span class="n">AS</span><span class="o">=</span><span class="s2">&quot;gcc&quot;</span><span class="p">,</span>
    <span class="n">CC</span><span class="o">=</span><span class="s2">&quot;gcc&quot;</span><span class="p">,</span>
    <span class="n">CXX</span><span class="o">=</span><span class="s2">&quot;g++&quot;</span><span class="p">,</span>
    <span class="n">OBJCOPY</span><span class="o">=</span><span class="s2">&quot;objcopy&quot;</span><span class="p">,</span>
    <span class="n">RANLIB</span><span class="o">=</span><span class="s2">&quot;ranlib&quot;</span><span class="p">,</span>

    <span class="n">UPLOADER</span><span class="o">=</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;$PIOPACKAGES_DIR&quot;</span><span class="p">,</span> <span class="s2">&quot;tool-bar&quot;</span><span class="p">,</span> <span class="s2">&quot;uploader&quot;</span><span class="p">),</span>
    <span class="n">UPLOADCMD</span><span class="o">=</span><span class="s2">&quot;$UPLOADER $SOURCES&quot;</span>
<span class="p">)</span>

<span class="n">env</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span>
    <span class="n">ARFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">],</span>

    <span class="n">ASFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">CCFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">CXXFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>
    <span class="n">LINKFLAGS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;flag1&quot;</span><span class="p">,</span> <span class="s2">&quot;flag2&quot;</span><span class="p">,</span> <span class="s2">&quot;flagN&quot;</span><span class="p">],</span>

    <span class="n">CPPDEFINES</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DEFINE_1&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE=2&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE_N&quot;</span><span class="p">],</span>

    <span class="n">LIBS</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;additional&quot;</span><span class="p">,</span> <span class="s2">&quot;libs&quot;</span><span class="p">,</span> <span class="s2">&quot;here&quot;</span><span class="p">],</span>

    <span class="n">BUILDERS</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">ElfToBin</span><span class="o">=</span><span class="n">Builder</span><span class="p">(</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
                <span class="s2">&quot;$OBJCOPY&quot;</span><span class="p">,</span>
                <span class="s2">&quot;-O&quot;</span><span class="p">,</span>
                <span class="s2">&quot;binary&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$SOURCES&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$TARGET&quot;</span><span class="p">]),</span>
            <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.bin&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># The source code of &quot;platformio-build-tool&quot; is here</span>
<span class="c1"># https://github.com/platformio/platformio-core/blob/develop/platformio/builder/tools/platformio.py</span>

<span class="c1">#</span>
<span class="c1"># Target: Build executable and linkable firmware</span>
<span class="c1">#</span>
<span class="n">target_elf</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">BuildProgram</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># Target: Build the .bin file</span>
<span class="c1">#</span>
<span class="n">target_bin</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">ElfToBin</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;$BUILD_DIR&quot;</span><span class="p">,</span> <span class="s2">&quot;firmware&quot;</span><span class="p">),</span> <span class="n">target_elf</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># Target: Upload firmware</span>
<span class="c1">#</span>
<span class="n">upload</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">Alias</span><span class="p">([</span><span class="s2">&quot;upload&quot;</span><span class="p">],</span> <span class="n">target_bin</span><span class="p">,</span> <span class="s2">&quot;$UPLOADCMD&quot;</span><span class="p">)</span>
<span class="n">AlwaysBuild</span><span class="p">(</span><span class="n">upload</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># Target: Define targets</span>
<span class="c1">#</span>
<span class="n">Default</span><span class="p">(</span><span class="n">target_bin</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="installation">
<span id="platform-creating-installation"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Using the ‚Äúmyplatform‚Äù platform example above:</p>
<ol class="arabic simple">
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">platforms</span></code> directory in <a class="reference internal" href="../projectconf/sections/platformio/options/directory/core_dir.html#projectconf-pio-core-dir"><span class="std std-ref">core_dir</span></a> if it
doesn‚Äôt exist.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> directory in <code class="docutils literal notranslate"><span class="pre">platforms</span></code></p></li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">platform.json</span></code> and <code class="docutils literal notranslate"><span class="pre">builder/main.py</span></code> files to the <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> directory.</p></li>
<li><p>Search the available platforms via the <a class="reference internal" href="../core/userguide/platforms/cmd_search.html#cmd-platform-search"><span class="std std-ref">pio platform search</span></a> command. You
should see the new <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> platform.</p></li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> platform via the <a class="reference internal" href="../core/userguide/platforms/cmd_install.html#cmd-platform-install"><span class="std std-ref">pio platform install</span></a> command.</p></li>
</ol>
<p>Now, you can use <code class="docutils literal notranslate"><span class="pre">myplatform</span></code> as value for the <a class="reference internal" href="../projectconf/sections/env/options/platform/platform.html#projectconf-env-platform"><span class="std std-ref">platform</span></a>
option in <a class="reference internal" href="../projectconf/index.html#projectconf"><span class="std std-ref">‚Äúplatformio.ini‚Äù (Project Configuration File)</span></a>.</p>
</section>
<section id="publishing">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Publishing</a><a class="headerlink" href="#publishing" title="Link to this heading">ÔÉÅ</a></h2>
<p>You can publish a development platform to the <strong>PlatformIO Trusted Registry</strong>
using <a class="reference internal" href="../core/userguide/pkg/cmd_publish.html#cmd-pkg-publish"><span class="std std-ref">pio pkg publish</span></a> command. Other developers will be able to install it.
Every time when you modify a source code of a development platform you will need to
increment the ‚Äúversion‚Äù field in ‚Äúplatform.json‚Äù manifest and re-publish again.</p>
<p>If the published development platform has an issue and you would like to remove it from
the PlatformIO Trusted Registry, please use <a class="reference internal" href="../core/userguide/pkg/cmd_unpublish.html#cmd-pkg-unpublish"><span class="std std-ref">pio pkg unpublish</span></a> command.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="custom_platform_and_board.html" class="btn btn-neutral float-left" title="Custom Platform &amp; Board" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="creating_board.html" class="btn btn-neutral float-right" title="Custom Embedded Boards" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">

    <p>&#169; Copyright 2014-present, PlatformIO.</p>
<ins data-rvad-zoneid="8" data-rvad-id="f837d8c96893e793fdbb230cffb628fc"></ins>

  </div>

  
 
<script>
  var navBarHTML = '\
<div>\
  <div class="container container-fluid">\
    <div class="navbar-header">\
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navBarCollapse" aria-expanded="false">\
        <span class="sr-only">Toggle navigation</span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
      </button>\
      <a class="navbar-brand" href="https://platformio.org" title="PlatformIO"></a>\
    </div>\
    <nav role="navigation" class="collapse navbar-collapse" id="navBarCollapse">\
      <div>\
        <ul class="nav navbar-nav">\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://platformio.org/platformio-ide" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Get Started<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/what-is-platformio.html"><i class="fa fa-heart"></i>What is PlatformIO?</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://platformio.org/platformio-ide"><i class="fa fa-cube"></i>PlatformIO IDE</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/cli"><i class="fa fa-cogs"></i>PlatformIO Core (CLI)</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/librarymanager/index.html"><i class="fa fa-code"></i>Library Management</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/tutorials/index.html" target="_blank"><i class="fa fa-graduation-cap"></i>Tutorials</a></li>\
              <li role="menuitem"><a href="https://github.com/platformio/platformio-examples" target="_blank"><i class="fa fa-graduation-cap"></i>Project Examples</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://docs.platformio.org/en/latest/plus/pio-remote.html" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Solutions<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://platformio.org/platformio-ide"><i class="fa fa-cube"></i>PlatformIO IDE</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/cli"><i class="fa fa-cogs"></i>PlatformIO Core (CLI)</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/plus/debugging.html"><i class="fa fa-bug"></i>Debugging</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/advanced/unit-testing/index.html"><i class="fa fa-puzzle-piece"></i>Unit Testing</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/plus/pio-check.html"><i class="fa fa-check-circle-o"></i>Static Code Analysis</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/plus/pio-remote.html"><i class="fa fa-globe"></i>Remote Development</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/librarymanager/index.html"><i class="fa fa-code"></i>Library Management</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://platformio.org/install/integration"><i class="fa fa-cube"></i>Desktop IDEs Integration</a></li>\
              <li role="menuitem"><a href="https://platformio.org/install/integration"><i class="fa fa-cloud"></i>Cloud IDEs Integration</a></li>\
              <li role="menuitem"><a href="https://docs.platformio.org/en/latest/ci/index.html"><i class="fa fa-refresh"></i>Continuous Integration</a></li>\
            </ul>\
          </li>\
          <li><a href="https://registry.platformio.org/">Registry</a></li>\
        </ul>\
        <ul class="nav navbar-nav navbar-right">\
          <li class="active"><a href="https://docs.platformio.org">Docs</a></li>\
          <li><a href="https://community.platformio.org/">Community</a></li>\
          <li><a href="https://platformio.org/support">Support</a></li>\
          <li class="nav-pio-tech"><a href="https://piolabs.com/"><i class="fa fa-rocket fa-lg"></i> TECHNOLOGY</a></li>\
        </ul>\
      </div>\
    </nav>\
  </div>\
</div>';

  (function() {
    if (window.location.href.indexOf('http://') === 0) {
      location.href = 'https:' + window.location.href.substring(5);
    }

    var topBanner = jQuery('.top-banner');
    var navBar = document.createElement('header');
    navBar.className = 'navbar navbar-inverse';
    navBar.innerHTML = navBarHTML;
    if (topBanner.length) {
      jQuery(navBar).insertAfter(topBanner)
    } else {
      document.body.insertBefore(navBar, document.body.firstChild);
    }

    if (jQuery(window).width() <= 768) {
      return;
    }

    var topOffset = 50;
    if (topBanner.length) {
      topOffset += jQuery('.navbar').offset().top;
    }
    jQuery('.wy-nav-side').css('top', topOffset + 'px');
    jQuery(window).scroll(function() {
      jQuery('.wy-nav-side').css('top', jQuery(window).scrollTop() > topOffset ? 0 : topOffset + 'px');
    });
  })();
</script>
<ins data-rvad-zoneid="11" data-rvad-id="f837d8c96893e793fdbb230cffb628fc"></ins>
<script async src="https://ad.platformio.org/delivery/revasyncjs.dll"></script>


</footer>
        </div>

      </div>
    </section>
  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation</span>
    v6.1.18a1 (latest)
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="/en/">latest</a></dd>
      
        <dd><a href="/en/stable/">stable</a></dd>
      
    </dl>
    <dl>
      <dt>On Github</dt>
        <dd><a href="https://github.com/platformio/platformio-docs/blob/develop/platforms/creating_platform.rst"> View</a></dd>
        <dd><a href="https://github.com/platformio/platformio-docs/edit/develop/platforms/creating_platform.rst"> Edit</a></dd>
    </dl>
    <dl>
      <dt>Search</dt>
        <dd>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>